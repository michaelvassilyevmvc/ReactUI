<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Demo</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div id="root"></div>

    <script>
      //###########################################
      const state = {
        time: new Date(),
        lots: [
          {
            id: 1,
            name: "Apple",
            description: "Apple description",
            price: 16,
          },
          {
            id: 2,
            name: "Orange",
            description: "Orange description",
            price: 41,
          },
        ],
      };
      //###########################################

      function App({ state }) {
        const app = document.createElement("div");
        app.classList.add("app");
        app.append(Header());
        app.append(Clock({ time: state.time }));
        app.append(Lots({ lots: state.lots }));
        return app;
      }
      function Header() {
        const header = document.createElement("header");
        header.classList.add("header");
        header.append(Logo());
        return header;
      }

      function Logo() {
        const logo = document.createElement("img");
        logo.classList.add("logo");
        logo.src = "logo.png";
        return logo;
      }

      function Clock({ time }) {
        const clock = document.createElement("div");
        clock.classList.add("clock");
        clock.innerText = time.toLocaleTimeString();
        return clock;
      }

      function Lots({ lots }) {
        const list = document.createElement("div");
        list.classList.add("lots");

        lots.forEach((lot) => {
          list.append(Lot({ lot }));
        });

        return list;
      }

      function Lot({ lot }) {
        const node = document.createElement("article");
        node.classList.add("lot");

        const price = document.createElement("div");
        price.classList.add("price");
        price.innerText = lot.price;
        node.append(price);

        const name = document.createElement("h1");
        name.innerText = lot.name;
        node.append(name);

        const description = document.createElement("p");
        description.innerText = lot.description;
        node.append(description);
        return node;
      }

      //######################################################
      render(App({ state }), document.getElementById("root"));

      setInterval(() => {
        const time = new Date();
        const clock = document
          .getElementById("root")
          .getElementsByName("clock")
          .item(0);
      }, 1000);

      //######################################################

      function render(newDom, realDomRoot) {
        realDomRoot.append(newDom);
      }
    </script>
  </body>
</html>
